<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Functions: Task 1</title>
</head>
<header>
</header>
<body>


<script>
//              **************PSEUDOCODE**************
// FOURTH: write a function that plays 5 rounds of rock, paper scissors and reports the winner at the end
//         *** the function is called game()
//         *** I need a loop and a way to store the winner each round

// I need computerSelection - random Number
// I need playerSelection - prompt for rock, paper, scissors
// I need a loop to go through comparision 5 times
// the return of the loop gives a winner. Number > 0 lose | = 0 tie (not possible) | > 0 win
// computerSelection doesnt need to be transferred to String. It can be 1, 2, 3 
// playerSelection does neet toLowerCase() but return can be 1, 2, 3
// game() loop goes through the if statement that compares computer and playerSelection and returns -1, 0 or 1 (lose, tie, win)
// game() finally gets an if statement with returns (if number from loop > 0 - lose, < 0 win)
//              **************PSEUDOCODE**************

// function expression - computerSelection. The return is a random number between 1 and 3, which stand for rock, paper, scissor
let computerSelection = function() {
    // 1 = rock, 2 = paper, 3 = scissors
    return Math.floor(Math.random() * (3 - 1 + 1) + 1);
}

// variable declaration that takes the player Input through a prompt. The variable is then changed to lowercase, to check if the input is valid for the game
let playerInput = prompt("Choose Rock, Paper or Scissors");
playerInput = playerInput.toLowerCase();


// function expression with if statement for playerSelection. It returns one of the numbers 1 (rock), 2 (paper) or 3 (scissors)
// if the tolowercase playerInput matches "rock", "paper", or "scissors". Else it returns an alert-error-message.
// the numbers are used to compare to the computerSelection
let playerSelection = function() {
     // 1 = rock, 2 = paper, 3 = scissors
    if (playerInput === "rock") {
        return 1;
    }
    else if (playerInput === "paper") {
        return 2;
    }
    else if (playerInput === "scissors") {
        return 3;
    }
    else {
        return alert("That was neither rock, paper or scissors");
    }
}
// in this section the rock/paper/scissors input of the computer and the player are compared in a while loop.
// the while loop starts with i = 1 and goes to i < 6 (basically to 5). each round the two inputs are compared, whereby playerSelection 
// is static from the prompt input and computerSelection changes in every loop
// the variable result starts with 0. If computer and player tie, it stays the same (result + 0)
// if player beats computer it adds +1 to the result, if player loses it substracts 1 from result
// the console.log is not necessary, but it helps to see if the while loop works correctly
// at first i did it with a for loop and it sometimes got me 5 rounds, sometimes 3, sometimes even 9. The console.log helped to check if it works as intended.
    let result = 0;
    let i = 1;
    while (i < 6) {
        if (playerSelection() === computerSelection()) {
            result = result + 0;
            i++
            console.log(result);
        }
        else if (playerSelection() === 1 && computerSelection() === 2 || playerSelection() === 2 && computerSelection() === 3 || playerSelection() === 3 && computerSelection() === 1) {
            result = result - 1;
            i++
            console.log(result);
        }
        else if (playerSelection() === 2 && computerSelection() === 1 || playerSelection() === 3 && computerSelection() === 2 || playerSelection() === 1 && computerSelection() === 3) {
            result = result + 1;
            i++
            console.log(result);
        }
    }

// this function and the invocation in game(result) takes the finale result of the while loop into account.
// if the result from the while loop is lower than 0, it means the player lost over the course of 5 rounds.
// if the result from the while loop is higher than 0, it means the player won over the course of 5 rounds.
// if the result from the while loop is 0, it means the players tied over the course of 5 rounds.
// last one is important for the extreme case, where all 5 while-loop rounds are tied
let game = function(a) {
if (a < 0) {
        return alert("You lost");
    }
    else if (a > 0) {
        return alert("You won");
    }
    else {
        return alert("You tied");
    }
}
game(result);


</script>
</body>
</html>